# Intel Skylake microarchitecture

In the past week, Intel began the release of the new generation of microprocessor design code named _"skylake"_, which contains a number of feature and performance improvements on the previous generations. For this generation, Intel focused on improving power management, incremental pipeline improvements, more robust cache architecture, as well as higher integrated graphics capabilities. 

## Power management 
Traditionally, the primary manager of dynamic power of the system is controlled by the OS through its ACPI-compliant driver stack using descriptions in DSDT and SSDT. The P-states of the microprocessor, which controls frequncies within its clock-domains, are chosen by the OS depending on physical measurements (e.g. temperature) reported by the hardware as well as current workload.  This works well for relatively long time-scales of 10s of milliseconds, but is not sufficiently quick for transient fluctuations.  For _skylake_, the power management in the hardware is has large range of freedom to preemptively respond to changes in power or load, before the OS formulates longer time-scale responses.  This allows for much better power control on smaller time-scales. This design also has dedicated circuitry to dynamically compute predicted the relative contributions of leakage and frequency-scale to power consumption, to manage more efficiently when not under full-load. 

## Pipeline improvements 
The pipeline features a wider window for larger number of instructions in flight, enabling extraction of higher ILP through OoOE, and with a new arrangment of dispatch ports is now able to dispatch 6 microinstruction per cycle on a regular basis.  The store buffer has larger number of entries, which allows load instructions to be serviced from previous writes in the LSQ through memory disambiguation, reducing the bandwidth pressure on the L1D cache.  The prefetching logic now also takes into account use by instructions that eventually reach the head of ROB, which results in smarter use of prefetch bandwidth. 

## Memory architecture 
The use of eDRAM gave Intel's previous generation much larger cache capacity, due to it being far denser than SRAM.  For _skylake_, eDRAM is no longer a eviction buffer for the last level cache, but is now fully coherent with the remainder of the memory hierarchy, which opens its effectiveness to more usage patterns, and can be freely used as I/O by other system components.  This allows more applications to benefit from such large caches. 

## Graphics  
In addition to higher number of execution units, _skylake_ also introduces full DirectX12 support. In previous graphics APIs, the API-calls result in stateful contexts of GPU commands, where driver determines the final order of execution of small state objects for actions on individual graphics pipeline elements, such as vertex shading, tessellation, or rastorization.  DirectX12 introduces optimized pipeline-state objects with executions on multiple stages of an API call packaged into a single context, resulting in lower CPU overhead and keeping track of less distinct stateful objects.  Along the same vein, several command sequences that have higher tendency to be reused are bundled together to result in lower overhead in the GPU control-flow. 
